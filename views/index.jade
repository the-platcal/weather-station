doctype html
html(lang="en")
    head
        meta(charset="utf-8")
        meta(http-equiv="X-UA-Compatible", content="IE=edge")
        meta(name="viewport", content="width=device-width, initial-scale=1")
        title image-streamer

        // CSS
        link(href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css", rel="stylesheet")
        style.
            body {
                font-family: Verdana;
                font-size: 13px;
                background: black;
                color: #eee;
            }

            .streaming-image {
                position: absolute;
                top: 20px;
                left: 0;
                right: 0;
                bottom: 0;
            }

            .landscape img {
                height: 100%;
            }

        // jQuery
        script(src="http://code.jquery.com/jquery.js")
        // Bootstrap JavaScript
        script(src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js")
        script(src="/socket.io/socket.io.js")
        script.
            var socket = io();
            socket.on('liveStream', function (url) {
                $('#stream').attr('src', url);
            });

            function startStream() {
                socket.emit('start-stream');
            }
            startStream();

body
    .container= title + " : " + version
    .streaming-image.landscape
        img#stream(src="")

